{
  "version": 3,
  "sources": ["../../@vaadin/popover/src/vaadin-popover-position-mixin.js", "../../@vaadin/popover/src/vaadin-popover-target-mixin.js", "../../@vaadin/popover/src/vaadin-popover-overlay-mixin.js"],
  "sourcesContent": ["/**\n * @license\n * Copyright (c) 2024 - 2025 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\n\n/**\n * A mixin providing popover position functionality.\n *\n * @polymerMixin\n */\nexport const PopoverPositionMixin = (superClass) =>\n  class PopoverPositionMixinClass extends superClass {\n    static get properties() {\n      return {\n        /**\n         * Position of the overlay with respect to the target.\n         * Supported values: `top-start`, `top`, `top-end`,\n         * `bottom-start`, `bottom`, `bottom-end`, `start-top`,\n         * `start`, `start-bottom`, `end-top`, `end`, `end-bottom`.\n         */\n        position: {\n          type: String,\n        },\n\n        /**\n         * Default value used when `position` property is not set.\n         * @protected\n         */\n        _position: {\n          type: String,\n          value: 'bottom',\n        },\n\n        /** @private */\n        __effectivePosition: {\n          type: String,\n          computed: '__computePosition(position, _position)',\n        },\n      };\n    }\n\n    /** @protected */\n    __computeHorizontalAlign(position) {\n      return ['top-end', 'bottom-end', 'start-top', 'start', 'start-bottom'].includes(position) ? 'end' : 'start';\n    }\n\n    /** @protected */\n    __computeNoHorizontalOverlap(position) {\n      return ['start-top', 'start', 'start-bottom', 'end-top', 'end', 'end-bottom'].includes(position);\n    }\n\n    /** @protected */\n    __computeNoVerticalOverlap(position) {\n      return ['top-start', 'top-end', 'top', 'bottom-start', 'bottom', 'bottom-end'].includes(position);\n    }\n\n    /** @protected */\n    __computeVerticalAlign(position) {\n      return ['top-start', 'top-end', 'top', 'start-bottom', 'end-bottom'].includes(position) ? 'bottom' : 'top';\n    }\n\n    /** @private */\n    __computePosition(position, defaultPosition) {\n      return position || defaultPosition;\n    }\n  };\n", "/**\n * @license\n * Copyright (c) 2024 - 2025 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { microTask } from '@vaadin/component-base/src/async.js';\nimport { Debouncer } from '@vaadin/component-base/src/debounce.js';\n\n/**\n * A mixin providing popover target functionality.\n *\n * @polymerMixin\n */\nexport const PopoverTargetMixin = (superClass) =>\n  class PopoverTargetMixinClass extends superClass {\n    static get properties() {\n      return {\n        /**\n         * The id of the element to be used as `target` value.\n         * The element should be in the DOM by the time when\n         * the attribute is set, otherwise a warning is shown.\n         */\n        for: {\n          type: String,\n          observer: '__forChanged',\n        },\n\n        /**\n         * Reference to the DOM element used both to trigger the overlay\n         * by user interaction and to visually position it on the screen.\n         *\n         * Defaults to an element referenced with `for` attribute, in\n         * which case it must be located in the same shadow scope.\n         */\n        target: {\n          type: Object,\n        },\n\n        /** @private */\n        __isConnected: {\n          type: Boolean,\n          sync: true,\n        },\n      };\n    }\n\n    static get observers() {\n      return ['__targetOrConnectedChanged(target, __isConnected)'];\n    }\n\n    /** @protected */\n    connectedCallback() {\n      super.connectedCallback();\n\n      this.__isConnected = true;\n    }\n\n    /** @protected */\n    disconnectedCallback() {\n      super.disconnectedCallback();\n\n      this.__isConnected = false;\n    }\n\n    /** @private */\n    __forChanged(forId) {\n      if (forId) {\n        this.__setTargetByIdDebouncer = Debouncer.debounce(this.__setTargetByIdDebouncer, microTask, () =>\n          this.__setTargetById(forId),\n        );\n      }\n    }\n\n    /** @private */\n    __setTargetById(targetId) {\n      if (!this.isConnected) {\n        return;\n      }\n\n      const target = this.getRootNode().getElementById(targetId);\n\n      if (target) {\n        this.target = target;\n      } else {\n        console.warn(`No element with id=\"${targetId}\" set via \"for\" property found on the page.`);\n      }\n    }\n\n    /** @private */\n    __targetOrConnectedChanged(target, isConnected) {\n      if (this.__previousTarget && (this.__previousTarget !== target || !isConnected)) {\n        this._removeTargetListeners(this.__previousTarget);\n      }\n\n      if (target && isConnected) {\n        this._addTargetListeners(target);\n      }\n\n      this.__previousTarget = target;\n    }\n\n    /**\n     * @param {HTMLElement} _target\n     * @protected\n     */\n    _addTargetListeners(_target) {\n      // To be implemented.\n    }\n\n    /**\n     * @param {HTMLElement} _target\n     * @protected\n     */\n    _removeTargetListeners(_target) {\n      // To be implemented.\n    }\n  };\n", "/**\n * @license\n * Copyright (c) 2022 - 2025 Vaadin Ltd.\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\n */\nimport { OverlayMixin } from '@vaadin/overlay/src/vaadin-overlay-mixin.js';\nimport { PositionMixin } from '@vaadin/overlay/src/vaadin-overlay-position-mixin.js';\nimport { setNestedOverlay } from '@vaadin/overlay/src/vaadin-overlay-stack-mixin.js';\n\n/**\n * Returns the closest parent overlay for given node, if any.\n * @param {HTMLElement} node\n * @return {HTMLElement}\n */\nconst getClosestOverlay = (node) => {\n  let n = node;\n\n  while (n && n !== node.ownerDocument) {\n    n = n.parentNode || n.host;\n\n    if (n && n._hasOverlayStackMixin) {\n      return n;\n    }\n  }\n\n  return null;\n};\n\n/**\n * A mixin providing common popover overlay functionality.\n *\n * @polymerMixin\n * @mixes PositionMixin\n * @mixes OverlayMixin\n */\nexport const PopoverOverlayMixin = (superClass) =>\n  class PopoverOverlayMixinClass extends PositionMixin(OverlayMixin(superClass)) {\n    static get properties() {\n      return {\n        position: {\n          type: String,\n          reflectToAttribute: true,\n        },\n      };\n    }\n\n    static get observers() {\n      return ['__openedOrTargetChanged(opened, positionTarget)'];\n    }\n\n    /**\n     * Tag name prefix used by custom properties.\n     * @protected\n     * @return {string}\n     */\n    get _tagNamePrefix() {\n      return 'vaadin-popover';\n    }\n\n    /**\n     * @protected\n     * @override\n     */\n    _updatePosition() {\n      super._updatePosition();\n\n      if (!this.positionTarget || !this.opened) {\n        return;\n      }\n\n      // Copy custom properties from the owner\n      if (this.owner) {\n        const style = getComputedStyle(this.owner);\n        ['top', 'bottom', 'start', 'end'].forEach((prop) => {\n          const propertyName = `--${this._tagNamePrefix}-offset-${prop}`;\n          this.style.setProperty(propertyName, style.getPropertyValue(propertyName));\n        });\n      }\n\n      this.removeAttribute('arrow-centered');\n\n      // Center the overlay horizontally\n      if (this.position === 'bottom' || this.position === 'top') {\n        const targetRect = this.positionTarget.getBoundingClientRect();\n        const overlayRect = this.$.overlay.getBoundingClientRect();\n\n        const offset = targetRect.width / 2 - overlayRect.width / 2;\n\n        if (this.style.left) {\n          const left = overlayRect.left + offset;\n          if (left > 0) {\n            this.style.left = `${left}px`;\n            // Center the pointer arrow horizontally\n            this.setAttribute('arrow-centered', '');\n          }\n        }\n\n        if (this.style.right) {\n          const right = parseFloat(this.style.right) + offset;\n          if (right > 0) {\n            this.style.right = `${right}px`;\n            // Center the pointer arrow horizontally\n            this.setAttribute('arrow-centered', '');\n          }\n        }\n      }\n\n      // Center the overlay vertically\n      if (this.position === 'start' || this.position === 'end') {\n        const targetRect = this.positionTarget.getBoundingClientRect();\n        const overlayRect = this.$.overlay.getBoundingClientRect();\n\n        const offset = targetRect.height / 2 - overlayRect.height / 2;\n        this.style.top = `${overlayRect.top + offset}px`;\n      }\n    }\n\n    /** @private */\n    __openedOrTargetChanged(opened, target) {\n      if (target) {\n        const parent = getClosestOverlay(target);\n        if (parent) {\n          setNestedOverlay(parent, opened ? this : null);\n        }\n      }\n    }\n  };\n"],
  "mappings": "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",
  "names": []
}
